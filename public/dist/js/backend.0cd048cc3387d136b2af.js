webpackJsonp([2],{1:function(t,e,a){a("YVUD"),t.exports=a("8MfB")},"8MfB":function(t,e){},EEdp:function(t,e,a){"use strict";var s=a("mtWM"),n=a.n(s);a.d(e,"a",function(){return n.a}),n.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r=document.head.querySelector('meta[name="csrf-token"]');r&&(n.a.defaults.headers.common["X-CSRF-TOKEN"]=r.content)},KRcQ:function(t,e,a){"use strict";e.a=function(t){return new n.a({locale:t,messages:r.default})};var s=a("7+uW"),n=a("TXmL"),r=a("uGPv");s.a.use(n.a)},PO2U:function(t,e){t.exports=Popper},YVUD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("e7x4"),n=a.n(s),r=a("GxBP"),i=a.n(r),o=a("ti8u"),l=a.n(o);window.swal=n.a,window.Flatpickr=i.a,window.FlatpickrLocaleFr=l.a;var c=document.querySelector('[data-settings-selector="settings-json"]');window.settings=c?JSON.parse(c.textContent):{};var u=a("7+uW"),d=(a("EEdp"),a("j1ja"),a("sCSS")),m=a("T1ft"),p=a.n(m),b={model:{prop:"checked",event:"change"},props:{value:{type:Boolean,default:!0},uncheckedValue:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},type:{type:String,default:"default"},variant:{type:String,default:""},pill:{type:Boolean,default:!1},on:{type:String,default:null},off:{type:String,default:null},size:{type:String,default:null}},computed:{classList:function(){return["switch",this.switchType,this.switchVariant,this.switchPill,this.switchSize]},switchType:function(){return this.type?"switch-"+this.type:"switch-default"},switchVariant:function(){return this.variant?"switch-"+this.variant:"switch-secondary"},switchPill:function(){return this.pill?"switch-pill":null},switchSize:function(){return this.size?"switch-"+this.size:""},isChecked:function(){return this.checked===this.value},isOn:function(){return!!this.on||null}},methods:{handleChange:function(t){var e=t.target.checked;this.$emit("change",e?this.value:this.uncheckedValue)}}},f=a("XyMi"),v=Object(f.a)(b,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{class:t.classList},[a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{value:t.value,checked:t.isChecked},on:{change:t.handleChange}}),t._v(" "),t.isOn?[a("span",{staticClass:"switch-label",attrs:{"data-on":t.on,"data-off":t.off}})]:[a("span",{staticClass:"switch-label"})],t._v(" "),a("span",{staticClass:"switch-handle"})],2)},[],!1,null,null,null).exports,h=a("mtWM"),_=a.n(h);function g(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})}}var y={props:{lengthChange:{type:Boolean,default:!0},paging:{type:Boolean,default:!0},infos:{type:Boolean,default:!0},search:{type:Boolean,default:!0},searchRoute:{type:String,default:null},deleteRoute:{type:String,default:null},actionRoute:{type:String,default:null},actions:{type:Object,default:function(){}}},data:function(){return{currentPage:1,perPage:15,totalRows:0,pageOptions:[5,10,15,25,50],searchQuery:null,selected:[],action:null}},mounted:function(){this.actions&&(this.action=Object.keys(this.actions)[0])},methods:{onContextChanged:function(){this.$emit("context-changed")},loadData:function(t,e){var a=this;return g(regeneratorRuntime.mark(function s(){var n,r;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,_.a.get(a.$app.route(a.searchRoute),{params:{page:a.currentPage,perPage:a.perPage,column:t,direction:e?"desc":"asc",search:a.searchQuery}});case 3:return n=s.sent,r=n.data,a.totalRows=r.total,s.abrupt("return",r.data);case 9:return s.prev=9,s.t0=s.catch(0),a.$app.error(s.t0),s.abrupt("return",[]);case 13:case"end":return s.stop()}},s,a,[[0,9]])}))()},deleteRow:function(t){var e=this;return g(regeneratorRuntime.mark(function a(){var s,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.swal({title:e.$t("labels.are_you_sure"),type:"warning",showCancelButton:!0,cancelButtonText:e.$t("buttons.cancel"),confirmButtonColor:"#dd4b39",confirmButtonText:e.$t("buttons.delete")});case 2:if(!a.sent.value){a.next=16;break}return a.prev=4,a.next=7,_.a.delete(e.$app.route(e.deleteRoute,t));case 7:s=a.sent,n=s.data,e.onContextChanged(),e.$app.noty[n.status](n.message),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),e.$app.error(a.t0);case 16:case"end":return a.stop()}},a,e,[[4,13]])}))()},onBulkAction:function(){var t=this;return g(regeneratorRuntime.mark(function e(){var a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.swal({title:t.$t("labels.are_you_sure"),type:"warning",showCancelButton:!0,cancelButtonText:t.$t("buttons.cancel"),confirmButtonColor:"#dd4b39",confirmButtonText:t.$t("buttons.confirm")});case 2:if(!e.sent.value){e.next=17;break}return e.prev=4,e.next=7,_.a.post(t.$app.route(t.actionRoute),{action:t.action,ids:t.selected});case 7:a=e.sent,s=a.data,t.onContextChanged(),t.$emit("bulk-action-success"),t.$app.noty[s.status](s.message),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t.$app.error(e.t0);case 17:case"end":return e.stop()}},e,t,[[4,14]])}))()}}},$=Object(f.a)(y,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-container"},[a("b-row",[a("b-col",{staticClass:"mb-3",attrs:{md:"4"}},[t.lengthChange?a("b-form",{attrs:{inline:""}},[a("label",{staticClass:"mr-2"},[t._v(t._s(t.$t("labels.datatables.show_per_page")))]),t._v(" "),a("b-form-select",{staticClass:"mr-2",attrs:{options:t.pageOptions},on:{input:t.onContextChanged},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" "),a("label",[t._v(t._s(t.$t("labels.datatables.entries_per_page")))])],1):t._e()],1),t._v(" "),a("b-col",{staticClass:"mb-3 text-center",attrs:{md:"4"}},[t.infos?a("label",{staticClass:"mt-2"},[t._v(t._s(t.$t("labels.datatables.infos",{offset_start:t.perPage*(t.currentPage-1)+1,offset_end:t.perPage*t.currentPage,total:t.totalRows})))]):t._e()]),t._v(" "),a("b-col",{staticClass:"mb-3",attrs:{md:"4"}},[t.search?a("b-form",{staticClass:"d-flex justify-content-end",attrs:{inline:""}},[a("label",{staticClass:"mr-2"},[t._v(t._s(t.$t("labels.datatables.search")))]),t._v(" "),a("b-form-input",{on:{input:t.onContextChanged},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1):t._e()],1)],1),t._v(" "),t._t("default"),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"4"}},[t.actions?a("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.onBulkAction(e)}}},[a("div",{staticClass:"form-group form-group-sm"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],staticClass:"form-control mr-1",attrs:{name:"action"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.action=e.target.multiple?a:a[0]}}},t._l(t.actions,function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e))])})),t._v(" "),a("b-button",{attrs:{type:"submit",variant:"danger"}},[t._v(t._s(t.$t("labels.validate")))])],1)]):t._e()]),t._v(" "),a("b-col",{attrs:{md:"4"}},[t.paging&&t.totalRows>t.perPage?a("b-pagination",{staticClass:"justify-content-center",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},on:{input:t.onContextChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],2)},[],!1,null,null,null).exports;var k={props:{id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},value:{type:String,default:null}},data:function(){return{editor:null}},watch:{value:function(t){t!==this.editor.getData()&&this.editor.setData(t)}},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ClassicEditor.create(document.querySelector("#"+e.id),{toolbar:["headings","bold","italic","link","bulletedList","numberedList","blockQuote","undo","redo"],heading:{options:[{modelElement:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{modelElement:"heading2",viewElement:"h2",title:"Heading 2",class:"ck-heading_heading2"},{modelElement:"heading3",viewElement:"h3",title:"Heading 3",class:"ck-heading_heading3"}]},image:{toolbar:["imageStyleFull","imageStyleAlignLeft","imageStyleAlignCenter","imageStyleAlignRight","|","imageTextAlternative"],styles:["imageStyleFull","imageStyleAlignLeft","imageStyleAlignCenter","imageStyleAlignRight"]},ckfinder:{uploadUrl:e.$app.route("admin.images.upload")}});case 2:(a=t.sent).document.on("change",function(){e.$emit("input",a.getData())}),e.editor=a;case 5:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()},beforeDestroy:function(){this.editor.destroy()}},w=Object(f.a)(k,function(){var t=this.$createElement;return(this._self._c||t)("textarea",{attrs:{id:this.id,name:this.name},domProps:{value:this.value}})},[],!1,null,null,null).exports,x={props:{value:{type:String,default:null},config:{type:Object,default:function(){return{wrap:!1}}},placeholder:{type:String,default:null},inputClass:{type:[String,Object],default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},id:{type:String,default:null}},data:function(){return{mutableValue:this.value,fp:null}},watch:{config:function(t){this.fp.config=Object.assign(this.fp.config,t),this.fp.redraw(),this.fp.setDate(this.value,!0)},mutableValue:function(t){this.$emit("input",t)},value:function(t){this.fp&&this.fp.setDate(t,!0)}},mounted:function(){if("fr"===this.$app.locale&&window.Flatpickr.localize(window.FlatpickrLocaleFr.fr),!this.fp){var t=this.config.wrap?this.$el.parentNode:this.$el;this.fp=new window.Flatpickr(t,this.config)}},beforeDestroy:function(){this.fp&&(this.fp.destroy(),this.fp=null)}},C=Object(f.a)(x,function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.mutableValue,expression:"mutableValue"}],staticClass:"form-control input text-right",class:t.inputClass,attrs:{type:"text",id:t.id,name:t.name,placeholder:t.placeholder,required:t.required,"data-input":""},domProps:{value:t.mutableValue},on:{input:function(e){e.target.composing||(t.mutableValue=e.target.value)}}})},[],!1,null,null,null).exports,S=a("/ocq"),P=Object(f.a)({name:"AppAside"},function(){var t=this.$createElement;return(this._self._c||t)("aside",{staticClass:"aside-menu"})},[],!1,null,null,null).exports,N={props:{list:{type:Array,required:!0,default:function(){return[]}}},computed:{items:function(){var t=this,e=[{text:this.$t("labels.frontend.titles.home"),href:this.$app.homePath}];return this.list.forEach(function(a){e.push({text:t.showName(a),to:""===a.path?"/":a.path})}),e}},methods:{showName:function(t){return t.meta&&t.meta.title&&(t=t.meta&&t.meta.title),t.name&&(t=t.name),t}}},O=Object(f.a)(N,function(){var t=this.$createElement;return(this._self._c||t)("b-breadcrumb",{attrs:{items:this.items}})},[],!1,null,null,null).exports,z={name:"AppFooter",props:{name:{type:String,default:""},editorName:{type:String,default:""},editorSiteUrl:{type:String,default:""}}},D=Object(f.a)(z,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"app-footer"},[a("strong",[t._v("Copyright © "+t._s((new Date).getFullYear())+" "),a("a",{attrs:{href:"/",target:"_blank"}},[t._v(t._s(t.name))]),t._v(".\n  ")]),t._v(" "+t._s(t.$t("labels.all_rights_reserved"))+"\n  "),a("span",{staticClass:"ml-auto"},[""!==t.editorName?[""!==t.editorSiteUrl?[a("i",{staticClass:"fa fa-code"}),t._v(" with "),a("i",{staticClass:"fa fa-heart"}),t._v(" by "),a("a",{attrs:{href:t.editorSiteUrl,target:"_blank"}},[a("strong",[t._v(t._s(t.editorName))])])]:[a("i",{staticClass:"fa fa-code"}),t._v(" with "),a("i",{staticClass:"fa fa-heart"}),t._v(" by "),a("strong",[t._v(t._s(t.editorName))])]]:t._e()],2)])},[],!1,null,null,null).exports,R={name:"AppHeader",methods:{sidebarToggle:function(t){t.preventDefault(),document.body.classList.toggle("sidebar-hidden")},sidebarMinimize:function(t){t.preventDefault(),document.body.classList.toggle("sidebar-minimized")},mobileSidebarToggle:function(t){t.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")},asideToggle:function(t){t.preventDefault(),document.body.classList.toggle("aside-menu-hidden")}}},E=Object(f.a)(R,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"app-header navbar"},[a("button",{staticClass:"navbar-toggler mobile-sidebar-toggler d-lg-none",attrs:{type:"button"},on:{click:t.mobileSidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),a("b-link",{staticClass:"navbar-brand",attrs:{to:"#"}}),t._v(" "),a("button",{staticClass:"navbar-toggler sidebar-toggler d-md-down-none mr-auto",attrs:{type:"button"},on:{click:t.sidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),a("ul",{staticClass:"nav navbar-nav ml-auto"},[a("b-dropdown",{staticClass:"px-2",attrs:{variant:"link"}},[a("template",{slot:"text"},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("labels.add_new"))+"\n      ")]),t._v(" "),this.$app.user.can("create posts")?a("b-dropdown-item",{attrs:{to:"/posts/create"}},[a("i",{staticClass:"icon-notebook"}),t._v(" "+t._s(t.$t("labels.backend.new_menu.post"))+"\n      ")]):t._e(),t._v(" "),this.$app.user.can("create form_settings")?a("b-dropdown-item",{attrs:{to:"/form-settings/create"}},[a("i",{staticClass:"icon-equalizer"}),t._v(" "+t._s(t.$t("labels.backend.new_menu.form_setting"))+"\n      ")]):t._e(),t._v(" "),this.$app.user.can("create users")?a("b-dropdown-item",{attrs:{to:"/users/create"}},[a("i",{staticClass:"icon-people"}),t._v(" "+t._s(t.$t("labels.backend.new_menu.user"))+"\n      ")]):t._e(),t._v(" "),this.$app.user.can("create roles")?a("b-dropdown-item",{attrs:{to:"/roles/create"}},[a("i",{staticClass:"icon-shield"}),t._v(" "+t._s(t.$t("labels.backend.new_menu.role"))+"\n      ")]):t._e(),t._v(" "),this.$app.user.can("create metas")?a("b-dropdown-item",{attrs:{to:"/metas/create"}},[a("i",{staticClass:"icon-tag"}),t._v(" "+t._s(t.$t("labels.backend.new_menu.meta"))+"\n      ")]):t._e(),t._v(" "),this.$app.user.can("create redirections")?a("b-dropdown-item",{attrs:{to:"/redirections/create"}},[a("i",{staticClass:"icon-control-forward"}),t._v(" "+t._s(t.$t("labels.backend.new_menu.redirection"))+"\n      ")]):t._e()],2),t._v(" "),a("b-dropdown",{staticClass:"px-2",attrs:{variant:"link"}},[a("template",{slot:"text"},[a("span",{staticClass:"d-md-down-none"},[t._v(t._s(t.$t("labels.language")))])]),t._v(" "),t._l(this.$app.locales,function(e,s){return a("b-dropdown-item",{key:s,attrs:{hreflang:s,href:"/"+s+"/"+t.$app.adminPathName+t.$route.fullPath}},[t._v("\n        "+t._s(e.native)+"\n      ")])})],2),t._v(" "),a("b-dropdown",{staticClass:"px-2",attrs:{variant:"link"}},[a("template",{slot:"text"},[a("img",{staticClass:"img-avatar",attrs:{src:this.$app.user.avatar,alt:t.$t("labels.user.avatar")}}),t._v(" "),a("span",{staticClass:"d-md-down-none"},[t._v(t._s(this.$app.user.name))])]),t._v(" "),a("b-dropdown-header",[a("strong",[t._v(t._s(t.$t("labels.user.settings")))])]),t._v(" "),a("b-dropdown-item",{attrs:{href:t.$app.route("user.account")}},[a("i",{staticClass:"icon-user"}),t._v(" "+t._s(t.$t("labels.user.profile"))+"\n      ")]),t._v(" "),a("b-dropdown-item",{attrs:{href:t.$app.route("admin.logout")}},[a("i",{staticClass:"icon-logout"}),t._v(" "+t._s(t.$t("labels.user.logout"))+"\n      ")])],2)],1),t._v(" "),a("button",{staticClass:"navbar-toggler aside-menu-toggler d-md-down-none",attrs:{type:"button"},on:{click:t.asideToggle}},[a("span",{staticClass:"navbar-toggler-icon"})])],1)},[],!1,null,null,null).exports,A=Object(f.a)({name:"SidebarForm",methods:{onSearch:function(t){this.$router.push({path:"/search",query:{q:t}})}}},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sidebar-form"},[e("b-form-input",{attrs:{type:"search",placeholder:this.$t("labels.search")},on:{input:this.onSearch}})],1)},[],!1,null,null,null).exports,j=Object(f.a)({name:"SidebarHeader"},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sidebar-header"},[e("i",{staticClass:"icon-user"}),this._v("  "+this._s(this.$app.user.name)+"\n")])},[],!1,null,null,null).exports,B={name:"SidebarMinimizer",methods:{sidebarMinimize:function(){document.body.classList.toggle("sidebar-minimized")},brandMinimize:function(){document.body.classList.toggle("brand-minimized")}}},L=Object(f.a)(B,function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"sidebar-minimizer",attrs:{type:"button"},on:{click:function(e){t.sidebarMinimize(),t.brandMinimize()}}})},[],!1,null,null,null).exports;var T={name:"SidebarNavDivider",props:{classes:{type:String,default:""}},computed:{classList:function(){return["divider"].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}},F=Object(f.a)(T,function(){var t=this.$createElement;return(this._self._c||t)("li",{class:this.classList})},[],!1,null,null,null).exports,q={props:{name:{type:String,default:""},url:{type:String,default:""},icon:{type:String,default:""}},methods:{handleClick:function(t){t.preventDefault(),t.target.parentElement.classList.toggle("open")}}},M=Object(f.a)(q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:t.url,disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:t.handleClick}},[a("i",{class:t.icon}),t._v(" "+t._s(t.name))]),t._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[t._t("default")],2)])},[],!1,null,null,null).exports;var I={name:"SidebarNavLink",props:{name:{type:String,default:""},url:{type:String,default:""},icon:{type:String,default:""},badges:{type:Array,default:function(){return[]}},variant:{type:String,default:""},classes:{type:String,default:""}},computed:{classList:function(){return["nav-link",this.linkVariant].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(this.itemClasses))},linkVariant:function(){return this.variant?"nav-link-"+this.variant:""},itemClasses:function(){return this.classes?this.classes.split(" "):[]},isExternalLink:function(){return"http"===this.url.substring(0,4)}}},U=Object(f.a)(I,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isExternalLink?a("div",[a("a",{class:t.classList,attrs:{href:t.url}},[a("i",{class:t.icon}),t._v(" "+t._s(t.name)+"\n    "),t._l(t.badges,function(e,s){return a("b-badge",{key:s,attrs:{variant:e.variant,title:e.name}},[t._v(t._s(e.text))])})],2)]):a("div",[a("router-link",{class:t.classList,attrs:{to:t.url}},[a("i",{class:t.icon}),t._v(" "+t._s(t.name)+"\n    "),t._l(t.badges,function(e,s){return a("b-badge",{key:s,attrs:{variant:e.variant,title:e.name}},[t._v(t._s(e.text))])})],2)],1)},[],!1,null,null,null).exports;var H={props:{name:{type:String,default:""},classes:{type:String,default:""},wrapper:{type:Object,default:function(){}}},computed:{classList:function(){return["nav-title"].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}},V=Object(f.a)(H,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:t.classList},[t.wrapper&&t.wrapper.element?[a(t.wrapper.element,t._b({tag:"component"},"component",t.wrapper.attributes,!1),[t._v("\n      "+t._s(t.name)+"\n    ")])]:[t._v("\n    "+t._s(t.name)+"\n  ")]],2)},[],!1,null,null,null).exports;var J={name:"SidebarNavItem",props:{classes:{type:String,default:""}},computed:{classList:function(){return["nav-item"].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}},Q={name:"AppSidebar",components:{SidebarForm:A,SidebarHeader:j,SidebarMinimizer:L,SidebarNavDivider:F,SidebarNavDropdown:M,SidebarNavLink:U,SidebarNavTitle:V,SidebarNavItem:Object(f.a)(J,function(){var t=this.$createElement;return(this._self._c||t)("li",{class:this.classList},[this._t("default")],2)},[],!1,null,null,null).exports},props:{navItems:{type:Array,required:!0,default:function(){return[]}}},methods:{handleClick:function(t){t.preventDefault(),t.target.parentElement.classList.toggle("open")},sidebarMinimize:function(){document.body.classList.toggle("sidebar-minimized")},brandMinimize:function(){document.body.classList.toggle("brand-minimized")}}};var W=function(t){a("hVpv")};var X={name:"Full",components:{AppHeader:E,Sidebar:Object(f.a)(Q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("SidebarHeader"),t._v(" "),a("SidebarForm"),t._v(" "),a("nav",{staticClass:"sidebar-nav"},[a("ul",{staticClass:"nav"},[t._l(t.navItems,function(e,s){return[e.access?[e.title?[a("SidebarNavTitle",{key:s,attrs:{name:e.name,classes:e.class,wrapper:e.wrapper}})]:e.divider?[a("SidebarNavDivider",{key:s,attrs:{classes:e.class}})]:[e.children?[a("SidebarNavDropdown",{key:s,attrs:{name:e.name,url:e.url,icon:e.icon}},[t._l(e.children,function(s,n){return[s.children?[a("SidebarNavDropdown",{key:n,attrs:{name:s.name,url:s.url,icon:s.icon}},t._l(s.children,function(t,s){return a("li",{key:s,staticClass:"nav-item"},[a("SidebarNavLink",{attrs:{name:t.name,url:t.url,icon:t.icon,badges:t.badges,variant:e.variant}})],1)}))]:[a("SidebarNavItem",{key:n,attrs:{classes:e.class}},[a("SidebarNavLink",{attrs:{name:s.name,url:s.url,icon:s.icon,badges:s.badges,variant:e.variant}})],1)]]})],2)]:[a("SidebarNavItem",{key:s,attrs:{classes:e.class}},[a("SidebarNavLink",{attrs:{name:e.name,url:e.url,icon:e.icon,badges:e.badges,variant:e.variant}})],1)]]]:t._e()]})],2)]),t._v(" "),a("button",{staticClass:"sidebar-minimizer",attrs:{type:"button"},on:{click:function(e){t.sidebarMinimize(),t.brandMinimize()}}})],1)},[],!1,W,null,null).exports,AppAside:P,AppFooter:D,Breadcrumb:O},data:function(){return{nav:[]}},computed:{name:function(){return this.$route.name},list:function(){return this.$route.matched}},watch:{$route:"fetchData"},created:function(){this.initNav(),this.fetchData()},methods:{initNav:function(){var t,e,a,s;this.nav=(t=this.$app,e=this.$i18n,a=this.$store.state.counters.newPostsCount,s=this.$store.state.counters.pendingPostsCount,[{name:e.t("labels.backend.titles.dashboard"),url:"/dashboard",icon:"icon-speedometer",access:!0},{divider:!0,access:!0},{title:!0,name:e.t("labels.backend.sidebar.content"),access:t.blogEnabled&&t.user.can("view own posts")},{name:e.t("labels.backend.posts.titles.main"),url:"/posts",icon:"icon-notebook",access:t.blogEnabled&&t.user.can("view own posts"),badges:[{name:e.t("labels.backend.dashboard.new_posts"),variant:"danger",text:a},{name:e.t("labels.backend.dashboard.pending_posts"),variant:"warning",text:s}]},{divider:!0,access:!0},{title:!0,name:e.t("labels.backend.sidebar.forms"),access:t.user.can("view form_submissions")||t.user.can("view form_settings")},{name:e.t("labels.backend.form_submissions.titles.main"),url:"/form-submissions",icon:"icon-list",access:t.user.can("view form_submissions")},{name:e.t("labels.backend.form_settings.titles.main"),url:"/form-settings",icon:"icon-equalizer",access:t.user.can("view form_settings")},{divider:!0,access:!0},{title:!0,name:e.t("labels.backend.sidebar.access"),access:t.user.can("view users")||t.user.can("view roles")},{name:e.t("labels.backend.users.titles.main"),url:"/users",icon:"icon-people",access:t.user.can("view users")},{name:e.t("labels.backend.roles.titles.main"),url:"/roles",icon:"icon-shield",access:t.user.can("view roles")},{divider:!0,access:!0},{title:!0,name:e.t("labels.backend.sidebar.seo"),access:t.user.can("view metas")||t.user.can("view redirections")},{name:e.t("labels.backend.metas.titles.main"),url:"/metas",icon:"icon-tag",access:t.user.can("view metas")},{name:e.t("labels.backend.redirections.titles.main"),url:"/redirections",icon:"icon-control-forward",access:t.user.can("view redirections")}])},fetchData:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("LOAD_COUNTERS");case 2:e.initNav();case 3:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}}},Z=Object(f.a)(X,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("AppHeader"),t._v(" "),a("div",{staticClass:"app-body"},[a("Sidebar",{attrs:{"nav-items":t.nav}}),t._v(" "),a("main",{staticClass:"main"},[a("b-alert",{staticClass:"alert-top mb-0",attrs:{variant:"warning",show:t.$app.isImpersonation}},[a("span",{domProps:{innerHTML:t._s(t.$t("labels.alerts.login_as",{name:t.$app.user.name,route:t.$app.route("admin.logout"),admin:t.$app.usurperName}))}})]),t._v(" "),a("b-alert",{staticClass:"alert-top mb-0",attrs:{variant:"warning",show:!t.$app.user.confirmed}},[a("span",{domProps:{innerHTML:t._s(t.$t("labels.alerts.not_confirmed",{route:t.$app.route("user.confirmation.send")}))}})]),t._v(" "),a("breadcrumb",{attrs:{list:t.list}}),t._v(" "),a("b-container",{attrs:{fluid:""}},[a("router-view",{key:t.$route.name})],1)],1),t._v(" "),a("AppAside")],1),t._v(" "),a("AppFooter",{attrs:{name:t.$app.appName,"editor-name":t.$app.editorName,"editor-site-url":t.$app.editorSiteUrl}})],1)},[],!1,null,null,null).exports;var Y={name:"AppSearch",data:function(){return{result:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$route.query.q){t.next=6;break}return t.next=3,_.a.get(e.$app.route("admin.search"),{params:{q:e.$route.query.q}});case 3:a=t.sent,s=a.data,e.result=s;case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}}},K=Object(f.a)(Y,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[t.result.length?t._l(t.result,function(e){return a("b-card",{key:e.id},[a("router-link",{attrs:{slot:"header",to:"/posts/"+e.id+"/edit"},slot:"header"},[t._v(t._s(e.title))]),t._v(" "),a("span",{domProps:{innerHTML:t._s(e.body)}})],1)}):a("b-card",[t._v("\n    Aucun résultat\n  ")])],2)},[],!1,null,null,null).exports,G=a("UlOv"),tt={extends:G.a,mounted:function(){this.renderChart({labels:["January","February","March","April","May","June","July"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,39,10,40,39,80,40]}]},{responsive:!0,maintainAspectRatio:!1})}},et=Object(f.a)(tt,void 0,void 0,!1,null,null,null).exports,at={extends:G.b,mounted:function(){this.renderChart({labels:["VueJs","EmberJs","ReactJs","AngularJs"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[40,20,80,10]}]},{responsive:!0,maintainAspectRatio:!1})}};var st={name:"Dashboard",components:{LineExample:et,PieExample:Object(f.a)(at,void 0,void 0,!1,null,null,null).exports},data:function(){return{post_fields:{title:{label:this.$t("validation.attributes.title")},status:{label:this.$t("validation.attributes.status")},pinned:{label:this.$t("validation.attributes.pinned")},summary:{label:this.$t("validation.attributes.summary")},published_at:{label:this.$t("validation.attributes.published_at"),class:"text-center"}},posts:[]}},created:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$app.user.can("view own posts")){t.next=6;break}return t.next=3,_.a.get(e.$app.route("admin.posts.latest"));case 3:a=t.sent,s=a.data,e.posts=s;case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}},nt=Object(f.a)(st,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-row",[a("b-col",{attrs:{xl:""}},[this.$app.user.can("view own posts")?a("b-row",[a("b-col",{attrs:{sm:""}},[a("b-card",{attrs:{"bg-variant":"danger","text-variant":"white"}},[a("h4",{staticClass:"mb-0"},[t._v(t._s(this.$store.state.counters.newPostsCount))]),t._v(" "),a("p",[t._v(t._s(t.$t("labels.backend.dashboard.new_posts")))])])],1),t._v(" "),a("b-col",{attrs:{sm:""}},[a("b-card",{attrs:{"bg-variant":"warning","text-variant":"white"}},[a("h4",{staticClass:"mb-0"},[t._v(t._s(this.$store.state.counters.pendingPostsCount))]),t._v(" "),a("p",[t._v(t._s(t.$t("labels.backend.dashboard.pending_posts")))])])],1),t._v(" "),a("b-col",{attrs:{sm:""}},[a("b-card",{attrs:{"bg-variant":"success","text-variant":"white"}},[a("h4",{staticClass:"mb-0"},[t._v(t._s(this.$store.state.counters.publishedPostsCount))]),t._v(" "),a("p",[t._v(t._s(t.$t("labels.backend.dashboard.published_posts")))])])],1)],1):t._e(),t._v(" "),a("b-row",[this.$app.user.can("view users")?a("b-col",{attrs:{sm:""}},[a("b-card",{attrs:{"bg-variant":"primary","text-variant":"white"}},[a("h4",{staticClass:"mb-0"},[t._v(t._s(this.$store.state.counters.activeUsersCount))]),t._v(" "),a("p",[t._v(t._s(t.$t("labels.backend.dashboard.active_users")))])])],1):t._e(),t._v(" "),this.$app.user.can("view form_submissions")?a("b-col",{attrs:{sm:""}},[a("b-card",{attrs:{"bg-variant":"info","text-variant":"white"}},[a("h4",{staticClass:"mb-0"},[t._v(t._s(this.$store.state.counters.formSubmissionsCount))]),t._v(" "),a("p",[t._v(t._s(t.$t("labels.backend.dashboard.form_submissions")))])])],1):t._e()],1),t._v(" "),a("b-card",{attrs:{header:"Line Chart"}},[a("div",{staticClass:"chart-wrapper"},[a("line-example")],1)]),t._v(" "),a("b-card",{attrs:{header:"Pie Chart"}},[a("div",{staticClass:"chart-wrapper"},[a("pie-example")],1)])],1),t._v(" "),this.$app.user.can("view own posts")?a("b-col",{attrs:{xl:""}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("labels.backend.dashboard.last_posts")))]),t._v(" "),a("b-table",{attrs:{striped:"",bordered:"",hover:"","show-empty":"",fields:t.post_fields,items:t.posts,"empty-text":t.$t("labels.no_results")},scopedSlots:t._u([{key:"title",fn:function(e){return[a("router-link",{attrs:{to:"/posts/"+e.item.id+"/edit"}},[t._v("\n              "+t._s(e.value)+"\n            ")])]}},{key:"status",fn:function(e){return[a("b-badge",{attrs:{variant:e.item.state}},[t._v(t._s(t.$t(e.item.status_label)))])]}},{key:"pinned",fn:function(e){return[a("b-badge",{attrs:{variant:e.value?"success":"danger"}},[t._v(t._s(e.value?t.$t("labels.yes"):t.$t("labels.no"))+"\n            ")])]}}])}),t._v(" "),a("b-button",{staticClass:"pull-right",attrs:{to:"/posts",variant:"primary"}},[t._v("\n          "+t._s(t.$t("labels.backend.dashboard.all_posts"))+"\n        ")])],1)],1):t._e()],1)],1)},[],!1,null,null,null).exports;function rt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function it(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})}}var ot={props:["id"],data:function(){return{validation:{},pending:!1}},computed:{isNew:function(){return void 0===this.id}},methods:{fetchData:function(){var t=this;return it(regeneratorRuntime.mark(function e(){var a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isNew){e.next=7;break}return e.next=3,_.a.get(t.$app.route("admin."+t.modelName+"s.show",rt({},t.modelName,t.id)));case 3:a=e.sent,s=a.data,Object.keys(s).forEach(function(e){e in t.model&&(t.model[e]=s[e])}),t.onModelChanged();case 7:case"end":return e.stop()}},e,t)}))()},onModelChanged:function(){},feedback:function(t){if(this.state(t))return this.validation.errors[t][0]},state:function(t){return void 0!==this.validation.errors&&this.validation.errors.hasOwnProperty(t)?"invalid":null},onSubmit:function(){var t=this;return it(regeneratorRuntime.mark(function e(){var a,s,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.pending=!0,a=t.$router,s=t.isNew?t.$app.route("admin."+t.modelName+"s.store"):t.$app.route("admin."+t.modelName+"s.update",rt({},t.modelName,t.id)),n=t.$app.objectToFormData(t.model),t.isNew||n.append("_method","PATCH"),e.prev=5,e.next=8,_.a.post(s,n);case 8:r=e.sent,i=r.data,t.pending=!1,t.$app.noty[i.status](i.message),t.listPath&&a.push(t.listPath),e.next=22;break;case 15:if(e.prev=15,e.t0=e.catch(5),t.pending=!1,422!==e.t0.response.status){e.next=21;break}return t.validation=e.t0.response.data,e.abrupt("return");case 21:t.$app.error(e.t0);case 22:case"end":return e.stop()}},e,t,[[5,15]])}))()}},created:function(){this.fetchData()}};var lt={name:"PostForm",mixins:[ot],data:function(){return{config:{wrap:!0,time_24hr:!0,enableTime:!0},modelName:"post",listPath:"/posts",tagsOptions:[],model:{title:null,summary:null,body:null,tags:[],featured_image:null,featured_image_path:null,status:null,state:null,status_label:null,owner:{name:null},published_at:null,unpublished_at:null,pinned:!1,promoted:!1,meta:{title:null,description:null}}}},methods:{onModelChanged:function(){this.model.tags&&(this.model.tags=this.model.tags.map(function(t){return t.name}))},getTags:function(t){var e,a=this;return(e=regeneratorRuntime.mark(function e(){var s,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(a.$app.route("admin.tags.search"),{params:{q:t}});case 2:s=e.sent,n=s.data,a.tagsOptions=n.items;case 5:case"end":return e.stop()}},e,a)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function s(n,r){try{var i=t[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});e(o)}("next")})})()}}},ct=Object(f.a)(lt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{xl:"8"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.isNew?t.$t("labels.backend.posts.titles.create"):t.$t("labels.backend.posts.titles.edit")))]),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.title"),"label-for":"title",horizontal:!0,"label-cols":2,feedback:t.feedback("title")}},[a("b-form-input",{attrs:{id:"title",name:"title",required:"",placeholder:t.$t("validation.attributes.title"),state:t.state("title")},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.summary"),"label-for":"summary",horizontal:!0,"label-cols":2,feedback:t.feedback("summary")}},[a("b-form-textarea",{attrs:{id:"summary",name:"summary",rows:5,placeholder:t.$t("validation.attributes.summary"),state:t.state("summary")},model:{value:t.model.summary,callback:function(e){t.$set(t.model,"summary",e)},expression:"model.summary"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.body"),"label-for":"body",horizontal:!0,"label-cols":2}},[a("p-richtexteditor",{attrs:{id:"body",name:"body"},model:{value:t.model.body,callback:function(e){t.$set(t.model,"body",e)},expression:"model.body"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.tags"),"label-for":"tags",horizontal:!0,"label-cols":2}},[a("v-select",{attrs:{id:"tags",name:"tags",multiple:"","on-search":t.getTags,options:t.tagsOptions,placeholder:t.$t("labels.placeholders.tags"),taggable:!0},model:{value:t.model.tags,callback:function(e){t.$set(t.model,"tags",e)},expression:"model.tags"}},[a("span",{attrs:{slot:"no-options"},slot:"no-options"},[t._v(t._s(t.$t("labels.no_results")))])])],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.image"),"label-for":"featured_image",horizontal:!0,"label-cols":2,feedback:t.feedback("featured_image")}},[a("div",{staticClass:"media"},[null!==t.model.featured_image_path?a("img",{staticClass:"mr-2",attrs:{src:"/imagecache/small/"+t.model.featured_image_path,alt:""}}):t._e(),t._v(" "),a("div",{staticClass:"media-body"},[a("h6",[t._v(t._s(t.$t("labels.upload_image")))]),t._v(" "),a("b-form-file",{attrs:{id:"featured_image",name:"featured_image",placeholder:t.$t("labels.no_file_chosen"),state:t.state("featured_image")},model:{value:t.model.featured_image,callback:function(e){t.$set(t.model,"featured_image",e)},expression:"model.featured_image"}}),t._v(" "),a("p",{staticClass:"form-text text-muted"},[t._v("\n                  "+t._s(t.$t("labels.descriptions.allowed_image_types"))+"\n                ")])],1)])]),t._v(" "),a("b-row",{attrs:{slot:"footer"},slot:"footer"},[a("b-col",{attrs:{md:""}},[a("b-button",{attrs:{to:"/posts",variant:"danger",size:"sm"}},[t._v("\n                "+t._s(t.$t("buttons.back"))+"\n              ")])],1),t._v(" "),a("b-col",{attrs:{md:""}},[a("input",{attrs:{name:"status",type:"hidden",value:"publish"}}),t._v(" "),t.isNew||this.$app.user.can("edit posts")||this.$app.user.can("edit own posts")?a("b-dropdown",{staticClass:"pull-right",attrs:{right:"",split:"",text:t.$t("buttons.posts.save_and_publish"),variant:"success",size:"sm",disabled:t.pending},on:{click:function(e){t.model.status="publish",t.onSubmit()}}},[a("b-dropdown-item",{on:{click:function(e){t.model.status="draft",t.onSubmit()}}},[t._v(t._s(t.$t("buttons.posts.save_as_draft"))+"\n                ")])],1):t._e()],1)],1)],1)],1),t._v(" "),a("b-col",{attrs:{xl:"4"}},[a("div",{attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-0",attrs:{"no-body":""}},[a("b-card-header",{attrs:{"header-tag":"header",role:"tab"}},[a("h5",[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapseOne",modifiers:{collapseOne:!0}}],attrs:{href:"#"}},[t._v("\n                  "+t._s(t.$t("labels.backend.posts.titles.publication"))+"\n                ")])])]),t._v(" "),a("b-collapse",{attrs:{id:"collapseOne",visible:"",accordion:"post-accordion",role:"tabpanel"}},[a("b-card-body",[t.isNew?t._e():[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3 col-form-label"},[t._v(t._s(t.$t("validation.attributes.status")))]),t._v(" "),a("b-col",{attrs:{lg:"9"}},[a("label",{staticClass:"col-form-label"},[a("b-badge",{attrs:{variant:t.model.state}},[t._v(t._s(t.$t(t.model.status_label)))])],1)])],1),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3 col-form-label"},[t._v(t._s(t.$t("labels.author")))]),t._v(" "),a("b-col",{attrs:{lg:"9"}},[t.model.owner?a("label",{staticClass:"col-form-label"},[t._v(t._s(t.model.owner.name))]):a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("labels.anonymous")))])])],1)],t._v(" "),this.$app.user.can("publish posts")?a("b-form-group",{attrs:{label:t.$t("validation.attributes.published_at"),"label-for":"published_at",horizontal:!0,"label-cols":3}},[a("b-input-group",[a("p-datetimepicker",{attrs:{id:"published_at",name:"published_at",config:t.config},model:{value:t.model.published_at,callback:function(e){t.$set(t.model,"published_at",e)},expression:"model.published_at"}}),t._v(" "),a("b-input-group-append",[a("b-input-group-text",{attrs:{"data-toggle":""}},[a("i",{staticClass:"icon-calendar"})]),t._v(" "),a("b-input-group-text",{attrs:{"data-clear":""}},[a("i",{staticClass:"icon-close"})])],1)],1)],1):t._e(),t._v(" "),this.$app.user.can("publish posts")?a("b-form-group",{attrs:{label:t.$t("validation.attributes.unpublished_at"),"label-for":"unpublished_at",horizontal:!0,"label-cols":3}},[a("b-input-group",[a("p-datetimepicker",{attrs:{id:"unpublished_at",name:"unpublished_at",config:t.config},model:{value:t.model.unpublished_at,callback:function(e){t.$set(t.model,"unpublished_at",e)},expression:"model.unpublished_at"}}),t._v(" "),a("b-input-group-append",[a("b-input-group-text",{attrs:{"data-toggle":""}},[a("i",{staticClass:"icon-calendar"})]),t._v(" "),a("b-input-group-text",{attrs:{"data-clear":""}},[a("i",{staticClass:"icon-close"})])],1)],1)],1):t._e(),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.pinned"),"label-for":"pinned",horizontal:!0,"label-cols":3}},[a("c-switch",{attrs:{name:"pinned",type:"text",variant:"primary",on:"On",off:"Off"},model:{value:t.model.pinned,callback:function(e){t.$set(t.model,"pinned",e)},expression:"model.pinned"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.promoted"),"label-for":"promoted",horizontal:!0,"label-cols":3}},[a("c-switch",{attrs:{name:"promoted",type:"text",variant:"primary",on:"On",off:"Off"},model:{value:t.model.promoted,callback:function(e){t.$set(t.model,"promoted",e)},expression:"model.promoted"}})],1)],2)],1)],1),t._v(" "),a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{attrs:{"header-tag":"header",role:"tab"}},[a("h5",[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapseTwo",modifiers:{collapseTwo:!0}}],attrs:{href:"#"}},[t._v("\n                  "+t._s(t.$t("labels.backend.metas.titles.main"))+"\n                ")])])]),t._v(" "),a("b-collapse",{attrs:{id:"collapseTwo",accordion:"post-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-form-group",{attrs:{label:t.$t("validation.attributes.title"),"label-for":"meta_title",description:t.$t("labels.backend.posts.descriptions.meta_title"),horizontal:!0,"label-cols":3}},[a("b-form-input",{attrs:{id:"meta_title",name:"meta[title]",placeholder:t.$t("labels.backend.posts.placeholders.meta_title")},model:{value:t.model.meta.title,callback:function(e){t.$set(t.model.meta,"title",e)},expression:"model.meta.title"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.description"),"label-for":"meta_description",description:t.$t("labels.backend.posts.descriptions.meta_description"),horizontal:!0,"label-cols":3}},[a("b-form-textarea",{attrs:{id:"meta_description",name:"meta[description]",rows:5,placeholder:t.$t("labels.backend.posts.placeholders.meta_description")},model:{value:t.model.meta.description,callback:function(e){t.$set(t.model.meta,"description",e)},expression:"model.meta.description"}})],1)],1)],1)],1)],1)])],1)],1)])},[],!1,null,null,null).exports,ut={name:"PostList",data:function(){return{isBusy:!1,selected:[],fields:[{key:"checkbox"},{key:"image",label:this.$t("validation.attributes.image")},{key:"title",label:this.$t("validation.attributes.title"),sortable:!0},{key:"status",label:this.$t("validation.attributes.status"),class:"text-center"},{key:"pinned",label:this.$t("validation.attributes.pinned"),class:"text-center"},{key:"promoted",label:this.$t("validation.attributes.promoted"),class:"text-center"},{key:"owner",label:this.$t("labels.author"),sortable:!0},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"updated_at",label:this.$t("labels.updated_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}],actions:{destroy:this.$t("labels.backend.posts.actions.destroy"),publish:this.$t("labels.backend.posts.actions.publish"),pin:this.$t("labels.backend.posts.actions.pin"),promote:this.$t("labels.backend.posts.actions.promote")}}},watch:{selected:function(t){this.$refs.datasource.selected=t}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({post:t})},onBulkActionSuccess:function(){this.selected=[]},onPinToggle:function(t){var e=this;_.a.post(this.$app.route("admin.posts.pinned",{post:t})).catch(function(t){e.$app.error(t)})},onPromoteToggle:function(t){var e=this;_.a.post(this.$app.route("admin.posts.promoted",{post:t})).catch(function(t){e.$app.error(t)})}}},dt=Object(f.a)(ut,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-card",[a("template",{slot:"header"},[this.$app.user.can("create posts")?a("div",{staticClass:"pull-right mt-2"},[a("b-button",{attrs:{to:"/posts/create",variant:"success",size:"sm"}},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("buttons.posts.create"))+"\n        ")])],1):t._e(),t._v(" "),a("h4",{staticClass:"mt-1"},[t._v(t._s(t.$t("labels.backend.posts.titles.index")))])]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.posts.search","delete-route":"admin.posts.destroy","action-route":"admin.posts.batch_action",actions:t.actions},on:{"context-changed":t.onContextChanged,"bulk-action-success":t.onBulkActionSuccess}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,"sort-by":"created_at","sort-desc":!0,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"HEAD_checkbox",fn:function(t){}},{key:"checkbox",fn:function(e){return[a("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"image",fn:function(t){return[t.item.can_edit?a("router-link",{attrs:{to:"/posts/"+t.item.id+"/edit"}},[a("img",{attrs:{src:t.item.thumbnail_image_path,alt:t.item.title}})]):a("img",{attrs:{src:t.item.thumbnail_image_path,alt:t.item.title}})]}},{key:"title",fn:function(e){return[e.item.can_edit?a("router-link",{attrs:{to:"/posts/"+e.item.id+"/edit"},domProps:{textContent:t._s(e.value)}}):a("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"status",fn:function(e){return[a("b-badge",{attrs:{variant:e.item.state}},[t._v(t._s(t.$t(e.item.status_label)))])]}},{key:"pinned",fn:function(e){return[e.item.can_edit?a("c-switch",{attrs:{type:"text",variant:"primary",on:"On",off:"Off",checked:e.value},on:{change:function(a){t.onPinToggle(e.item.id)}}}):t._e()]}},{key:"promoted",fn:function(e){return[e.item.can_edit?a("c-switch",{attrs:{type:"text",variant:"primary",on:"On",off:"Off",checked:e.value},on:{change:function(a){t.onPromoteToggle(e.item.id)}}}):t._e()]}},{key:"owner",fn:function(e){return[e.item.owner?a("span",[t._v(t._s(e.item.owner.name))]):a("span",[t._v(t._s(t.$t("labels.anonymous")))])]}},{key:"actions",fn:function(e){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"success",href:t.$app.route("blog.show",{post:e.item.slug}),target:"_blank",title:t.$t("buttons.preview")}},[a("i",{staticClass:"icon-eye"})]),t._v(" "),e.item.can_edit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:"/posts/"+e.item.id+"/edit",title:t.$t("buttons.edit")}},[a("i",{staticClass:"icon-pencil"})]):t._e(),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],2)],1)},[],!1,null,null,null).exports;var mt={name:"FormSettingForm",mixins:[ot],data:function(){return{formTypes:[{value:null,text:"-- "+this.$t("validation.attributes.form_type")+" --"}],modelName:"form_setting",listPath:"/form-settings",model:{name:null,recipients:null,message:null}}},created:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.fetchData(),t.next=3,_.a.get(e.$app.route("admin."+e.modelName+"s.get_form_types"));case 3:for(n in a=t.sent,s=a.data)e.formTypes.push({value:n,text:s[n]});case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}},pt=Object(f.a)(mt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{xl:"6"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.isNew?t.$t("labels.backend.form_settings.titles.create"):t.$t("labels.backend.form_settings.titles.edit")))]),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.form_type"),"label-for":"name",horizontal:!0,"label-cols":3}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],staticClass:"form-control",attrs:{id:"name",name:"name",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.model,"name",e.target.multiple?a:a[0])}}},t._l(t.formTypes,function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v("\n                "+t._s(e.text)+"\n              ")])}))]),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.recipients"),"label-for":"recipients",description:t.$t("labels.backend.form_settings.descriptions.recipients"),horizontal:!0,"label-cols":3,feedback:t.feedback("recipients")}},[a("b-form-textarea",{attrs:{id:"recipients",name:"recipients",rows:5,required:"",placeholder:t.$t("validation.attributes.recipients"),state:t.state("recipients")},model:{value:t.model.recipients,callback:function(e){t.$set(t.model,"recipients",e)},expression:"model.recipients"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.message"),"label-for":"message",description:t.$t("labels.backend.form_settings.descriptions.message"),horizontal:!0,"label-cols":3,feedback:t.feedback("message")}},[a("b-form-textarea",{attrs:{id:"message",name:"message",rows:5,required:"",placeholder:t.$t("validation.attributes.message"),state:t.state("message")},model:{value:t.model.message,callback:function(e){t.$set(t.model,"message",e)},expression:"model.message"}})],1),t._v(" "),a("b-row",{attrs:{slot:"footer"},slot:"footer"},[a("b-col",{attrs:{md:""}},[a("b-button",{attrs:{to:"/form-settings",variant:"danger",size:"sm"}},[t._v("\n                "+t._s(t.$t("buttons.back"))+"\n              ")])],1),t._v(" "),a("b-col",{attrs:{md:""}},[t.isNew||this.$app.user.can("edit form_settings")?a("b-button",{staticClass:"pull-right",attrs:{type:"submit",variant:"success",size:"sm",disabled:t.pending}},[t._v("\n                "+t._s(t.isNew?t.$t("buttons.create"):t.$t("buttons.edit"))+"\n              ")]):t._e()],1)],1)],1)],1)],1)],1)])},[],!1,null,null,null).exports,bt=Object(f.a)({name:"FormSettingList",data:function(){return{isBusy:!1,fields:[{key:"name",label:this.$t("validation.attributes.form_type"),sortable:!0},{key:"recipients",label:this.$t("validation.attributes.recipients")},{key:"message",label:this.$t("validation.attributes.message")},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"updated_at",label:this.$t("labels.updated_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}]}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({form_setting:t})}}},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-card",[a("template",{slot:"header"},[this.$app.user.can("create form_settings")?a("div",{staticClass:"pull-right mt-2"},[a("b-button",{attrs:{to:"/form-settings/create",variant:"success",size:"sm"}},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("buttons.form_settings.create"))+"\n        ")])],1):t._e(),t._v(" "),a("h4",{staticClass:"mt-1"},[t._v(t._s(t.$t("labels.backend.form_settings.titles.index")))])]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.form_settings.search","delete-route":"admin.form_settings.destroy","length-change":!1,paging:!1,infos:!1,search:!1},on:{"context-changed":t.onContextChanged}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,"sort-by":"name","sort-desc":!1,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"name",fn:function(e){return[e.item.can_edit?a("router-link",{attrs:{to:"/form-settings/"+e.item.id+"/edit"},domProps:{textContent:t._s(e.value)}}):a("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"actions",fn:function(e){return[e.item.can_edit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:"/form-settings/"+e.item.id+"/edit",title:t.$t("buttons.edit")}},[a("i",{staticClass:"icon-pencil"})]):t._e(),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],2)],1)},[],!1,null,null,null).exports;var ft={name:"FormSubmissionForm",props:{id:{type:String,default:null}},data:function(){return{submission:null}},created:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get(e.$app.route("admin.form_submissions.show",{form_submission:e.id}));case 2:a=t.sent,s=a.data,e.submission=s;case 5:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}},vt=Object(f.a)(ft,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{xl:"6"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("labels.backend.form_submissions.titles.show")))]),t._v(" "),null!==t.submission?a("table",{staticClass:"table table-striped table-hover"},[a("tbody",[t._l(JSON.parse(t.submission.data),function(e,s){return a("tr",{key:s},[a("th",[t._v(t._s(t.$t("validation.attributes."+s)))]),t._v(" "),a("td",[t._v(t._s(e))])])}),t._v(" "),a("tr",[a("th",[t._v(t._s(t.$t("labels.created_at")))]),t._v(" "),a("td",[t._v(t._s(t.submission.created_at))])])],2)]):t._e()])],1)],1)],1)},[],!1,null,null,null).exports,ht=Object(f.a)({name:"FormSubmissionList",data:function(){return{isBusy:!1,selected:[],fields:[{key:"checkbox"},{key:"type",label:this.$t("validation.attributes.form_type"),sortable:!0},{key:"data",label:this.$t("validation.attributes.form_data")},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}],actions:{destroy:this.$t("labels.backend.form_submissions.actions.destroy")}}},watch:{selected:function(t){this.$refs.datasource.selected=t}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({form_submission:t})},onBulkActionSuccess:function(){this.selected=[]}}},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("labels.backend.form_submissions.titles.index")))]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.form_submissions.search","delete-route":"admin.form_submissions.destroy","action-route":"admin.form_submissions.batch_action",actions:t.actions},on:{"context-changed":t.onContextChanged,"bulk-action-success":t.onBulkActionSuccess}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,"sort-by":"created_at","sort-desc":!0,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"HEAD_checkbox",fn:function(t){}},{key:"checkbox",fn:function(e){return[a("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"name",fn:function(e){return[e.item.can_edit?a("router-link",{attrs:{to:"/form-submissions/"+e.item.id+"/edit"},domProps:{textContent:t._s(e.value)}}):a("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"actions",fn:function(e){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"success",to:"/form-submissions/"+e.item.id+"/show",title:t.$t("buttons.show")}},[a("i",{staticClass:"icon-eye"})]),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],1)],1)},[],!1,null,null,null).exports;var _t={name:"UserForm",mixins:[ot],data:function(){return{roles:[],modelName:"user",listPath:"/users",model:{name:null,email:null,active:!0,password:null,confirm_password:null,roles:[]}}},created:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.fetchData(),t.next=3,_.a.get(e.$app.route("admin.users.get_roles"));case 3:a=t.sent,s=a.data,e.roles=s;case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()},methods:{onModelChanged:function(){this.model.roles&&(this.model.roles=this.model.roles.map(function(t){return t.id}))}}},gt=Object(f.a)(_t,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{xl:"6"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.isNew?t.$t("labels.backend.users.titles.create"):t.$t("labels.backend.users.titles.edit")))]),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.name"),"label-for":"name",horizontal:!0,"label-cols":3,feedback:t.feedback("name")}},[a("b-form-input",{attrs:{id:"name",name:"name",required:"",placeholder:t.$t("validation.attributes.name"),state:t.state("name")},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.email"),"label-for":"email",horizontal:!0,"label-cols":3,feedback:t.feedback("email")}},[a("b-form-input",{attrs:{id:"email",name:"email",type:"email",required:"",placeholder:t.$t("validation.attributes.email"),state:t.state("email")},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.active"),"label-for":"active",horizontal:!0,"label-cols":3}},[a("c-switch",{attrs:{name:"active",type:"text",variant:"primary",on:"On",off:"Off"},model:{value:t.model.active,callback:function(e){t.$set(t.model,"active",e)},expression:"model.active"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.password"),"label-for":"password",horizontal:!0,"label-cols":3,feedback:t.feedback("password")}},[a("b-form-input",{attrs:{id:"password",name:"password",type:"password",placeholder:t.$t("validation.attributes.password"),state:t.state("password")},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.password_confirmation"),"label-for":"password_confirmation",horizontal:!0,"label-cols":3,feedback:t.feedback("password_confirmation")}},[a("b-form-input",{attrs:{id:"password_confirmation",name:"password_confirmation",type:"password",placeholder:t.$t("validation.attributes.password_confirmation"),state:t.state("password_confirmation")},model:{value:t.model.password_confirmation,callback:function(e){t.$set(t.model,"password_confirmation",e)},expression:"model.password_confirmation"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.roles"),"label-for":"roles",horizontal:!0,"label-cols":3}},[a("b-form-checkbox-group",{attrs:{stacked:"",name:"roles[]"},model:{value:t.model.roles,callback:function(e){t.$set(t.model,"roles",e)},expression:"model.roles"}},t._l(t.roles,function(e){return a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.left",modifiers:{left:!0}}],key:e.id,attrs:{title:e.description,value:e.id}},[t._v("\n                "+t._s(e.display_name)+"\n              ")])}))],1),t._v(" "),a("b-row",{attrs:{slot:"footer"},slot:"footer"},[a("b-col",[a("b-button",{attrs:{to:"/users",variant:"danger",size:"sm"}},[t._v("\n                "+t._s(t.$t("buttons.back"))+"\n              ")])],1),t._v(" "),a("b-col",[t.isNew||this.$app.user.can("edit users")?a("b-button",{staticClass:"pull-right",attrs:{type:"submit",variant:"success",size:"sm",disabled:t.pending}},[t._v("\n                "+t._s(t.isNew?t.$t("buttons.create"):t.$t("buttons.edit"))+"\n              ")]):t._e()],1)],1)],1)],1)],1)],1)])},[],!1,null,null,null).exports,yt={name:"UserList",data:function(){return{selected:[],isBusy:!1,fields:[{key:"checkbox"},{key:"name",label:this.$t("validation.attributes.name"),sortable:!0},{key:"email",label:this.$t("validation.attributes.email"),sortable:!0},{key:"confirmed",label:this.$t("validation.attributes.confirmed"),class:"text-center"},{key:"roles",label:this.$t("validation.attributes.roles")},{key:"last_access_at",label:this.$t("labels.last_access_at"),class:"text-center",sortable:!0},{key:"active",label:this.$t("validation.attributes.active"),class:"text-center"},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"updated_at",label:this.$t("labels.updated_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}],actions:{destroy:this.$t("labels.backend.users.actions.destroy"),enable:this.$t("labels.backend.users.actions.enable"),disable:this.$t("labels.backend.users.actions.disable")}}},watch:{selected:function(t){this.$refs.datasource.selected=t}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({user:t})},onActiveToggle:function(t){var e=this;_.a.post(this.$app.route("admin.users.active",{user:t})).catch(function(t){e.$app.error(t)})},onBulkActionSuccess:function(){this.selected=[]},formatRoles:function(t){return t.map(function(t){return t.display_name}).join(", ")}}},$t=Object(f.a)(yt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-card",[a("template",{slot:"header"},[this.$app.user.can("create users")?a("div",{staticClass:"pull-right mt-2"},[a("b-button",{attrs:{to:"/users/create",variant:"success",size:"sm"}},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("buttons.users.create"))+"\n        ")])],1):t._e(),t._v(" "),a("h4",{staticClass:"mt-1"},[t._v(t._s(t.$t("labels.backend.users.titles.index")))])]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.users.search","delete-route":"admin.users.destroy","action-route":"admin.users.batch_action",actions:t.actions},on:{"context-changed":t.onContextChanged,"bulk-action-success":t.onBulkActionSuccess}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"HEAD_checkbox",fn:function(t){}},{key:"checkbox",fn:function(e){return[a("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"name",fn:function(e){return[e.item.can_edit?a("router-link",{attrs:{to:"/users/"+e.item.id+"/edit"},domProps:{textContent:t._s(e.value)}}):a("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"confirmed",fn:function(e){return[a("b-badge",{attrs:{variant:e.value?"success":"danger"}},[t._v(t._s(e.value?t.$t("labels.yes"):t.$t("labels.no")))])]}},{key:"active",fn:function(e){return[e.item.can_edit?a("c-switch",{attrs:{type:"text",variant:"primary",on:"On",off:"Off",checked:e.value},on:{change:function(a){t.onActiveToggle(e.item.id)}}}):t._e()]}},{key:"roles",fn:function(e){return[t._v("\n          "+t._s(t.formatRoles(e.value))+"\n        ")]}},{key:"actions",fn:function(e){return[e.item.can_edit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:"/users/"+e.item.id+"/edit",title:t.$t("buttons.edit")}},[a("i",{staticClass:"icon-pencil"})]):t._e(),t._v(" "),e.item.can_impersonate?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"warning",href:t.$app.route("admin.users.impersonate",{user:e.item.id}),title:t.$t("buttons.login-as",{name:e.item.name})}},[a("i",{staticClass:"icon-lock"})]):t._e(),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],2)],1)},[],!1,null,null,null).exports,kt=a("309y"),wt=a.n(kt),xt=a("swUc"),Ct=a.n(xt);a("v89g");var St={name:"RoleForm",mixins:[ot],data:function(){return{permissions:[],modelName:"role",listPath:"/roles",model:{name:null,display_name:null,description:null,order:0,permissions:[]}}},created:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.fetchData(),t.next=3,_.a.get(e.$app.route("admin.roles.get_permissions"));case 3:a=t.sent,s=a.data,n=Ct()(wt()(s,function(t,e){t.name=e}),"category"),e.permissions=Object.keys(n).map(function(t){return{title:t,permissions:n[t]}});case 7:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()},methods:{onModelChanged:function(){this.model.permissions&&(this.model.permissions=this.model.permissions.map(function(t){return t.name}))}}},Pt=Object(f.a)(St,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{xl:"8"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.isNew?t.$t("labels.backend.roles.titles.create"):t.$t("labels.backend.roles.titles.edit")))]),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.name"),"label-for":"name",horizontal:!0,"label-cols":2,feedback:t.feedback("name")}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-input",{attrs:{id:"name",name:"name",required:"",placeholder:t.$t("validation.attributes.name"),state:t.state("name")},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1)],1)],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.display_name"),"label-for":"display_name",horizontal:!0,"label-cols":2,feedback:t.feedback("display_name")}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-input",{attrs:{id:"display_name",name:"display_name",required:"",placeholder:t.$t("validation.attributes.display_name"),state:t.state("display_name")},model:{value:t.model.display_name,callback:function(e){t.$set(t.model,"display_name",e)},expression:"model.display_name"}})],1)],1)],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.description"),"label-for":"description",horizontal:!0,"label-cols":2,feedback:t.feedback("description")}},[a("b-form-input",{attrs:{id:"description",name:"description",placeholder:t.$t("validation.attributes.description"),state:t.state("description")},model:{value:t.model.description,callback:function(e){t.$set(t.model,"description",e)},expression:"model.description"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.order"),"label-for":"order",horizontal:!0,"label-cols":2}},[a("b-row",[a("b-col",{attrs:{md:"3"}},[a("b-form-input",{attrs:{id:"order",name:"order",type:"number",required:""},model:{value:t.model.order,callback:function(e){t.$set(t.model,"order",e)},expression:"model.order"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t.$t("validation.attributes.permissions")))]),t._v(" "),a("b-col",{attrs:{sm:"10"}},[a("b-row",t._l(t.permissions,function(e){return a("b-col",{key:e.title,staticClass:"mb-3",attrs:{md:"6",xl:"4"}},[a("h4",[t._v(t._s(t.$t(e.title)))]),t._v(" "),a("b-form-checkbox-group",{attrs:{stacked:"",name:"permissions[]"},model:{value:t.model.permissions,callback:function(e){t.$set(t.model,"permissions",e)},expression:"model.permissions"}},t._l(e.permissions,function(e){return a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.left",modifiers:{left:!0}}],key:e.name,attrs:{title:t.$t(e.description),value:e.name}},[t._v("\n                      "+t._s(t.$t(e.display_name))+"\n                    ")])}))],1)}))],1)],1),t._v(" "),a("b-row",{attrs:{slot:"footer"},slot:"footer"},[a("b-col",{attrs:{md:""}},[a("b-button",{attrs:{to:"/roles",variant:"danger",size:"sm"}},[t._v("\n                "+t._s(t.$t("buttons.back"))+"\n              ")])],1),t._v(" "),a("b-col",{attrs:{md:""}},[t.isNew||this.$app.user.can("edit roles")?a("b-button",{staticClass:"pull-right",attrs:{type:"submit",variant:"success",size:"sm",disabled:t.pending}},[t._v("\n                "+t._s(t.isNew?t.$t("buttons.create"):t.$t("buttons.edit"))+"\n              ")]):t._e()],1)],1)],1)],1)],1)],1)])},[],!1,null,null,null).exports,Nt=Object(f.a)({name:"RoleList",data:function(){return{isBusy:!1,fields:[{key:"name",label:this.$t("validation.attributes.name"),sortable:!0},{key:"order",label:this.$t("validation.attributes.order"),class:"text-right",sortable:!0},{key:"display_name",label:this.$t("validation.attributes.display_name")},{key:"description",label:this.$t("validation.attributes.description")},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"updated_at",label:this.$t("labels.updated_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}]}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({role:t})}}},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-card",[a("template",{slot:"header"},[this.$app.user.can("create roles")?a("div",{staticClass:"pull-right mt-2"},[a("b-button",{attrs:{to:"/roles/create",variant:"success",size:"sm"}},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("buttons.roles.create"))+"\n        ")])],1):t._e(),t._v(" "),a("h4",{staticClass:"mt-1"},[t._v(t._s(t.$t("labels.backend.roles.titles.index")))])]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.roles.search","delete-route":"admin.roles.destroy","length-change":!1,paging:!1,infos:!1,search:!1},on:{"context-changed":t.onContextChanged}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,"sort-by":"order","sort-desc":!1,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"name",fn:function(e){return[e.item.can_edit?a("router-link",{attrs:{to:"/roles/"+e.item.id+"/edit"},domProps:{textContent:t._s(e.value)}}):a("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"actions",fn:function(e){return[e.item.can_edit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:"/roles/"+e.item.id+"/edit",title:t.$t("buttons.edit")}},[a("i",{staticClass:"icon-pencil"})]):t._e(),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],2)],1)},[],!1,null,null,null).exports;var Ot={name:"MetaForm",mixins:[ot],data:function(){return{routes:[],modelName:"meta",listPath:"/metas",model:{metable_type:null,metable_id:null,route:null,title:null,description:null}}},methods:{getRoutes:function(t){var e,a=this;return(e=regeneratorRuntime.mark(function e(){var s,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(a.$app.route("admin.routes.search"),{params:{q:t}});case 2:s=e.sent,n=s.data,a.routes=n.items;case 5:case"end":return e.stop()}},e,a)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function s(n,r){try{var i=t[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});e(o)}("next")})})()}}},zt=Object(f.a)(Ot,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{xl:"6"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.isNew?t.$t("labels.backend.metas.titles.create"):t.$t("labels.backend.metas.titles.edit")))]),t._v(" "),null!==t.model.metable_type?[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3 col-form-label"},[t._v(t._s(t.$t("validation.attributes.metable_type")))]),t._v(" "),a("b-col",{attrs:{lg:"9"}},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("labels.morphs."+t.model.metable_type,{id:t.model.metable_id})))])])],1)]:[a("b-form-group",{attrs:{label:t.$t("validation.attributes.route"),"label-for":"route",horizontal:!0,"label-cols":3,feedback:t.feedback("route"),state:t.state("route")}},[a("v-select",{attrs:{id:"route",name:"route",options:t.routes,placeholder:t.$t("labels.placeholders.route"),"on-search":t.getRoutes},model:{value:t.model.route,callback:function(e){t.$set(t.model,"route",e)},expression:"model.route"}})],1)],t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.title"),"label-for":"title",horizontal:!0,"label-cols":3,feedback:t.feedback("title")}},[a("b-form-input",{attrs:{id:"title",name:"title",placeholder:t.$t("validation.attributes.title"),state:t.state("title")},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.description"),"label-for":"description",horizontal:!0,"label-cols":3,feedback:t.feedback("description")}},[a("b-form-textarea",{attrs:{id:"description",name:"description[meta]",rows:5,placeholder:t.$t("validation.attributes.description"),state:t.state("description")},model:{value:t.model.description,callback:function(e){t.$set(t.model,"description",e)},expression:"model.description"}})],1),t._v(" "),a("b-row",{attrs:{slot:"footer"},slot:"footer"},[a("b-col",{attrs:{md:""}},[a("b-button",{attrs:{to:"/metas",variant:"danger",size:"sm"}},[t._v("\n                "+t._s(t.$t("buttons.back"))+"\n              ")])],1),t._v(" "),a("b-col",{attrs:{md:""}},[t.isNew||t.$app.user.can("edit metas")?a("b-button",{staticClass:"pull-right",attrs:{type:"submit",variant:"success",size:"sm",disabled:t.pending}},[t._v("\n                "+t._s(t.isNew?t.$t("buttons.create"):t.$t("buttons.edit"))+"\n              ")]):t._e()],1)],1)],2)],1)],1)],1)])},[],!1,null,null,null).exports,Dt=Object(f.a)({name:"MetaList",data:function(){return{isBusy:!1,selected:[],fields:[{key:"checkbox"},{key:"route",label:this.$t("validation.attributes.route"),sortable:!0},{key:"metable_type",label:this.$t("validation.attributes.metable_type"),sortable:!0},{key:"title",label:this.$t("validation.attributes.title"),sortable:!0},{key:"description",label:this.$t("validation.attributes.description")},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"updated_at",label:this.$t("labels.updated_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}],actions:{destroy:this.$t("labels.backend.metas.actions.destroy")}}},watch:{selected:function(t){this.$refs.datasource.selected=t}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({meta:t})},onBulkActionSuccess:function(){this.selected=[]}}},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-card",[a("template",{slot:"header"},[this.$app.user.can("create metas")?a("div",{staticClass:"pull-right mt-2"},[a("b-button",{attrs:{to:"/metas/create",variant:"success",size:"sm"}},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("buttons.metas.create"))+"\n        ")])],1):t._e(),t._v(" "),a("h4",{staticClass:"mt-1"},[t._v(t._s(t.$t("labels.backend.metas.titles.index")))])]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.metas.search","delete-route":"admin.metas.destroy","action-route":"admin.metas.batch_action",actions:t.actions},on:{"context-changed":t.onContextChanged,"bulk-action-success":t.onBulkActionSuccess}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,"sort-by":"created_at","sort-desc":!0,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"HEAD_checkbox",fn:function(t){}},{key:"checkbox",fn:function(e){return[a("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"actions",fn:function(e){return[e.item.can_edit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:"/metas/"+e.item.id+"/edit",title:t.$t("buttons.edit")}},[a("i",{staticClass:"icon-pencil"})]):t._e(),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],2)],1)},[],!1,null,null,null).exports;var Rt={name:"RedirectionForm",mixins:[ot],data:function(){return{redirectionTypes:{},modelName:"redirection",listPath:"/redirections",model:{source:null,active:!0,target:null,type:301}}},created:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.fetchData(),t.next=3,_.a.get(e.$app.route("admin.redirections.get_redirection_types"));case 3:a=t.sent,s=a.data,e.redirectionTypes=s;case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}},Et=Object(f.a)(Rt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{xl:"6"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.isNew?t.$t("labels.backend.redirections.titles.create"):t.$t("labels.backend.redirections.titles.edit")))]),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.source_path"),"label-for":"source",horizontal:!0,"label-cols":3,feedback:t.feedback("source")}},[a("b-form-input",{attrs:{id:"source",name:"source",required:"",placeholder:t.$t("validation.attributes.source_path"),state:t.state("source")},model:{value:t.model.source,callback:function(e){t.$set(t.model,"source",e)},expression:"model.source"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.active"),"label-for":"active",horizontal:!0,"label-cols":3}},[a("c-switch",{attrs:{name:"active",type:"text",variant:"primary",on:"On",off:"Off"},model:{value:t.model.active,callback:function(e){t.$set(t.model,"active",e)},expression:"model.active"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.target_path"),"label-for":"target",horizontal:!0,"label-cols":3,feedback:t.feedback("target")}},[a("b-form-input",{attrs:{id:"target",name:"target",required:"",placeholder:t.$t("validation.attributes.target_path"),state:t.state("target")},model:{value:t.model.target,callback:function(e){t.$set(t.model,"target",e)},expression:"model.target"}})],1),t._v(" "),a("b-form-group",{attrs:{label:t.$t("validation.attributes.redirect_type"),"label-for":"type",horizontal:!0,"label-cols":3}},[a("b-form-radio-group",{attrs:{stacked:"",options:t.redirectionTypes,name:"type",required:""},model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}})],1),t._v(" "),a("b-row",{attrs:{slot:"footer"},slot:"footer"},[a("b-col",{attrs:{md:""}},[a("b-button",{attrs:{to:"/redirections",variant:"danger",size:"sm"}},[t._v("\n                "+t._s(t.$t("buttons.back"))+"\n              ")])],1),t._v(" "),a("b-col",{attrs:{md:""}},[t.isNew||this.$app.user.can("edit redirections")?a("b-button",{staticClass:"pull-right",attrs:{type:"submit",variant:"success",size:"sm",disabled:t.pending}},[t._v("\n                "+t._s(t.isNew?t.$t("buttons.create"):t.$t("buttons.edit"))+"\n              ")]):t._e()],1)],1)],1)],1)],1)],1)])},[],!1,null,null,null).exports;var At={name:"RedirectionList",data:function(){return{isBusy:!1,selected:[],fields:[{key:"checkbox"},{key:"source",label:this.$t("validation.attributes.source_path"),sortable:!0},{key:"active",label:this.$t("validation.attributes.active"),class:"text-center"},{key:"target",label:this.$t("validation.attributes.target_path"),sortable:!0},{key:"type",label:this.$t("validation.attributes.redirect_type"),class:"text-center"},{key:"created_at",label:this.$t("labels.created_at"),class:"text-center",sortable:!0},{key:"updated_at",label:this.$t("labels.updated_at"),class:"text-center",sortable:!0},{key:"actions",label:this.$t("labels.actions"),class:"nowrap"}],actions:{destroy:this.$t("labels.backend.redirections.actions.destroy"),enable:this.$t("labels.backend.redirections.actions.enable"),disable:this.$t("labels.backend.redirections.actions.disable")},importFile:null}},watch:{selected:function(t){this.$refs.datasource.selected=t}},methods:{dataLoadProvider:function(t){return this.$refs.datasource.loadData(t.sortBy,t.sortDesc)},onContextChanged:function(){return this.$refs.datatable.refresh()},onDelete:function(t){this.$refs.datasource.deleteRow({redirection:t})},onBulkActionSuccess:function(){this.selected=[]},onActiveToggle:function(t){var e=this;_.a.post(this.$app.route("admin.redirections.active",{redirection:t})).catch(function(t){e.$app.error(t)})},onFileImport:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("import",e.importFile),t.prev=2,t.next=5,_.a.post(e.$app.route("admin.redirections.import"),a);case 5:s=t.sent,n=s.data,e.$refs.datatable.refresh(),e.$app.noty[n.status](n.message),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.$app.error(t.t0);case 14:case"end":return t.stop()}},t,e,[[2,11]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,r){try{var i=e[n](r),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});t(o)}("next")})})()}}},jt=Object(f.a)(At,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("b-row",[a("b-col",{attrs:{xl:"6"}},[a("b-card",[a("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("labels.backend.redirections.import.title")))]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.onFileImport(e)}}},[a("b-form-file",{attrs:{required:"",placeholder:t.$t("labels.no_file_chosen")},model:{value:t.importFile,callback:function(e){t.importFile=e},expression:"importFile"}}),t._v(" "),a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"warning"}},[t._v("\n            "+t._s(t.$t("buttons.redirections.import"))+"\n          ")])],1)])],1)],1),t._v(" "),a("b-card",[a("template",{slot:"header"},[this.$app.user.can("create redirections")?a("div",{staticClass:"pull-right mt-2"},[a("b-button",{attrs:{to:"/redirections/create",variant:"success",size:"sm"}},[a("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("buttons.redirections.create"))+"\n        ")])],1):t._e(),t._v(" "),a("h4",{staticClass:"mt-1"},[t._v(t._s(t.$t("labels.backend.redirections.titles.index")))])]),t._v(" "),a("b-datatable",{ref:"datasource",attrs:{"search-route":"admin.redirections.search","delete-route":"admin.redirections.destroy","action-route":"admin.redirections.batch_action",actions:t.actions},on:{"context-changed":t.onContextChanged,"bulk-action-success":t.onBulkActionSuccess}},[a("b-table",{ref:"datatable",attrs:{striped:"",bordered:"","show-empty":"",stacked:"md","no-local-sorting":"","empty-text":t.$t("labels.datatables.no_results"),"empty-filtered-text":t.$t("labels.datatables.no_matched_results"),fields:t.fields,items:t.dataLoadProvider,"sort-by":"created_at","sort-desc":!0,busy:t.isBusy},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"HEAD_checkbox",fn:function(t){}},{key:"checkbox",fn:function(e){return[a("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"active",fn:function(e){return[e.item.can_edit?a("c-switch",{attrs:{type:"text",variant:"primary",on:"On",off:"Off",checked:e.value},on:{change:function(a){t.onActiveToggle(e.item.id)}}}):t._e()]}},{key:"actions",fn:function(e){return[e.item.can_edit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:"/redirections/"+e.item.id+"/edit",title:t.$t("buttons.edit")}},[a("i",{staticClass:"icon-pencil"})]):t._e(),t._v(" "),e.item.can_delete?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"danger",title:t.$t("buttons.delete")},on:{click:function(a){a.stopPropagation(),t.onDelete(e.item.id)}}},[a("i",{staticClass:"icon-trash"})]):t._e()]}}])})],1)],2)],1)},[],!1,null,null,null).exports;u.a.use(S.a);var Bt=a("NYxO");var Lt={SET_COUNTER:function(t,e){var a=e.type,s=e.counter;t.counters[a]=s}};function Tt(t){var e=function(t){return{LOAD_COUNTERS:function(e){var a=e.commit;return new Promise(function(e){_.a.all([_.a.get(t("admin.posts.draft.counter")),_.a.get(t("admin.posts.pending.counter")),_.a.get(t("admin.posts.published.counter")),_.a.get(t("admin.users.active.counter")),_.a.get(t("admin.form_submissions.counter"))]).then(_.a.spread(function(t,s,n,r,i){a("SET_COUNTER",{type:"newPostsCount",counter:t.data}),a("SET_COUNTER",{type:"pendingPostsCount",counter:s.data}),a("SET_COUNTER",{type:"publishedPostsCount",counter:n.data}),a("SET_COUNTER",{type:"activeUsersCount",counter:r.data}),a("SET_COUNTER",{type:"formSubmissionsCount",counter:i.data}),e()}))})}}}(t);return new Bt.a.Store({state:{counters:{newPostsCount:0,pendingPostsCount:0,publishedPostsCount:0,activeUsersCount:0,formSubmissionsCount:0}},actions:e,mutations:Lt})}u.a.use(Bt.a);var Ft=a("KRcQ"),qt=Object(f.a)({name:"App"},function(){var t=this.$createElement;return(this._self._c||t)("router-view")},[],!1,null,null,null).exports,Mt=a("y/MS"),It=a.n(Mt);e.createApp=Ht;var Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Ht(){var t=Object(Ft.a)(window.settings.locale),e=function(t,e){return new S.a({mode:"history",base:t,linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/dashboard",name:"home",component:Z,meta:{title:e.t("labels.frontend.titles.administration")},children:[{path:"search",name:"search",component:K,meta:{title:e.t("labels.search")}},{path:"dashboard",name:"dashboard",component:nt,meta:{title:e.t("labels.backend.titles.dashboard")}},{path:"posts",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.posts.titles.main")},children:[{path:"/",name:"posts",component:dt,meta:{title:e.t("labels.backend.posts.titles.index")}},{path:"create",name:"posts_create",component:ct,meta:{title:e.t("labels.backend.posts.titles.create")}},{path:":id/edit",name:"posts_edit",component:ct,props:!0,meta:{title:e.t("labels.backend.posts.titles.edit")}}]},{path:"form-submissions",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.form_submissions.titles.main")},children:[{path:"/",name:"form_submissions",component:ht,meta:{title:e.t("labels.backend.form_submissions.titles.index")}},{path:":id/show",name:"form_submissions_show",component:vt,props:!0,meta:{title:e.t("labels.backend.form_submissions.titles.show")}}]},{path:"form-settings",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.form_settings.titles.main")},children:[{path:"/",name:"form_settings",component:bt,meta:{title:e.t("labels.backend.form_settings.titles.index")}},{path:"create",name:"form_settings_create",component:pt,meta:{title:e.t("labels.backend.form_settings.titles.create")}},{path:":id/edit",name:"form_settings_edit",component:pt,props:!0,meta:{title:e.t("labels.backend.form_settings.titles.edit")}}]},{path:"users",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.users.titles.main")},children:[{path:"/",name:"users",component:$t,meta:{title:e.t("labels.backend.users.titles.index")}},{path:"create",name:"users_create",component:gt,meta:{title:e.t("labels.backend.users.titles.create")}},{path:":id/edit",name:"users_edit",component:gt,props:!0,meta:{title:e.t("labels.backend.users.titles.edit")}}]},{path:"roles",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.roles.titles.main")},children:[{path:"/",name:"roles",component:Nt,meta:{title:e.t("labels.backend.roles.titles.index")}},{path:"create",name:"roles_create",component:Pt,meta:{title:e.t("labels.backend.roles.titles.create")}},{path:":id/edit",name:"roles_edit",component:Pt,props:!0,meta:{title:e.t("labels.backend.roles.titles.edit")}}]},{path:"metas",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.metas.titles.main")},children:[{path:"/",name:"metas",component:Dt,meta:{title:e.t("labels.backend.metas.titles.index")}},{path:"create",name:"metas_create",component:zt,meta:{title:e.t("labels.backend.metas.titles.create")}},{path:":id/edit",name:"metas_edit",component:zt,props:!0,meta:{title:e.t("labels.backend.metas.titles.edit")}}]},{path:"redirections",component:{render:function(t){return t("router-view")}},meta:{title:e.t("labels.backend.redirections.titles.main")},children:[{path:"/",name:"redirections",component:jt,meta:{title:e.t("labels.backend.redirections.titles.index")}},{path:"create",name:"redirections_create",component:Et,meta:{title:e.t("labels.backend.redirections.titles.create")}},{path:":id/edit",name:"redirections_edit",component:Et,props:!0,meta:{title:e.t("labels.backend.redirections.titles.edit")}}]}]}]})}(window.settings.adminHomePath,t),a=Tt(window.route);u.a.prototype.$app=window.settings,u.a.prototype.$app.route=window.route,u.a.prototype.$app.user&&(u.a.prototype.$app.user.can=function(t){return!(1!==u.a.prototype.$app.user.id&&!u.a.prototype.$app.permissions.includes("access all backend"))||u.a.prototype.$app.permissions.includes(t)});u.a.prototype.$app.objectToFormData=function t(e,a,s){var n=a||new FormData,r=void 0;for(var i in e)if(e.hasOwnProperty(i)){if(r=s?s+"["+i+"]":i,"object"===Ut(e[i])&&!(e[i]instanceof File)){t(e[i],n,i);continue}if("boolean"==typeof e[i]){n.append(r,e[i]?"1":"0");continue}n.append(r,e[i])}return n};var s=function(t,e){new It.a({layout:"topRight",theme:"bootstrap-v4",timeout:2e3,text:e,type:t}).show()};return u.a.prototype.$app.noty={alert:function(t){s("alert",t)},success:function(t){s("success",t)},error:function(t){s("error",t)},warning:function(t){s("warning",t)},info:function(t){s("info",t)}},u.a.prototype.$app.error=function(e){if(e instanceof String)s("error",e);else{if(e.response){if(403===e.response.status)return void s("error",t.t("exceptions.unauthorized"));if(void 0!==e.response.data.error)return void s("error",e.response.data.message)}s("error",t.t("exceptions.general"))}},e.beforeEach(function(t,e,a){document.title=t.meta.title+" | "+window.settings.appName,a()}),{app:new u.a({router:e,store:a,i18n:t,components:{App:qt},template:"<App/>"}),router:e,store:a}}(u.a.use(d.a),u.a.component("v-select",p.a),u.a.component("c-switch",v),u.a.component("p-datetimepicker",C),u.a.component("p-richtexteditor",w),u.a.component("b-datatable",$),null!==document.getElementById("app"))&&Ht().app.$mount("#app")},ZZ8c:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".nav-link{cursor:pointer}",""])},hVpv:function(t,e,a){var s=a("ZZ8c");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("rjj0").default)("589198af",s,!0,{})}},[1]);
//# sourceMappingURL=backend.0cd048cc3387d136b2af.js.map